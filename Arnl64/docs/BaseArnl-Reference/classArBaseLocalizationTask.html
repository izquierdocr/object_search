<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>BaseArnl: ArBaseLocalizationTask Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">BaseArnl
   &#160;<span id="projectnumber">1.9.0</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classArBaseLocalizationTask.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">ArBaseLocalizationTask Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="ArBaseLocalizationTask" --><!-- doxytag: inherits="ArASyncTask" -->
<p>This class has the similar items of ArLocalizationTask and ArSonarLocalizationTask, right now thats just one enum, later it may grow to become more.  
 <a href="classArBaseLocalizationTask.html#details">More...</a></p>

<p><code>#include &lt;ArBaseLocalizationTask.h&gt;</code></p>
<div class="dynheader">
Inheritance diagram for ArBaseLocalizationTask:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classArBaseLocalizationTask.png" usemap="#ArBaseLocalizationTask_map" alt=""/>
  <map id="ArBaseLocalizationTask_map" name="ArBaseLocalizationTask_map">
<area doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArASyncTask.html" alt="ArASyncTask" shape="rect" coords="0,0,147,24"/>
<area href="classArLocalizationManager.html" title="Task that fuses the output of the multiple localization threads." alt="ArLocalizationManager" shape="rect" coords="0,112,147,136"/>
</map>
 </div></div>

<p><a href="classArBaseLocalizationTask-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#ac7e65bb9139f64c603a01017dcf475f9">LocalizationState</a> { , <br/>
&#160;&#160;<a class="el" href="classArBaseLocalizationTask.html#ac7e65bb9139f64c603a01017dcf475f9a2959f9b6e2f6752339ed469bf9688599">LOCALIZATION_FAILED</a>, 
<a class="el" href="classArBaseLocalizationTask.html#ac7e65bb9139f64c603a01017dcf475f9a743f51a5aabb5a1a48cddce5e97167cd">LOCALIZATION_SUCCESS</a>, 
<a class="el" href="classArBaseLocalizationTask.html#ac7e65bb9139f64c603a01017dcf475f9aac99ce23eb413fd8151741d45447ead2">LOCALIZATION_INIT_COMPUTING</a>, 
<a class="el" href="classArBaseLocalizationTask.html#ac7e65bb9139f64c603a01017dcf475f9ad4d897f45b5de439162073c84af12d20">LOCALIZATION_MOVE_COMPUTING</a>, 
<br/>
&#160;&#160;<a class="el" href="classArBaseLocalizationTask.html#ac7e65bb9139f64c603a01017dcf475f9a9a0ab4ae4e11355816f75b592bf1c689">LOCALIZATION_IDLE</a>, 
<a class="el" href="classArBaseLocalizationTask.html#ac7e65bb9139f64c603a01017dcf475f9a5f382aaf1c8fcd6c65f803f2ba8d4018">INVALID</a>
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">State of the localization, accessible using <a class="el" href="classArBaseLocalizationTask.html#a7879e95587529c7b576758da5d0cf8cc" title="Get the localization state.">getState()</a>.  <a href="classArBaseLocalizationTask.html#ac7e65bb9139f64c603a01017dcf475f9">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#a7a4ce49dbf816df41e38597c5ed3a873">LockState</a> { , <a class="el" href="classArBaseLocalizationTask.html#a7a4ce49dbf816df41e38597c5ed3a873a0a06f082139550601c7c306f3c07c369">LOST</a>, 
<a class="el" href="classArBaseLocalizationTask.html#a7a4ce49dbf816df41e38597c5ed3a873a7af74c90da726797a1faa8f4cbcfb90a">LOST_LOCK</a>, 
<a class="el" href="classArBaseLocalizationTask.html#a7a4ce49dbf816df41e38597c5ed3a873a335c3127da77fa3fa1f685e18f5b0798">LOCKED</a>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">State of the lock, accessible using <a class="el" href="classArBaseLocalizationTask.html#af1ff3ad24e06a52fa8a74469ba78fd34" title="Get the localization lock state.">getLockState()</a>.  <a href="classArBaseLocalizationTask.html#a7a4ce49dbf816df41e38597c5ed3a873">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acf6a9362147d7e3e3b5cc7af1e0038c3"></a><!-- doxytag: member="ArBaseLocalizationTask::findLocalizationMeanVar" ref="acf6a9362147d7e3e3b5cc7af1e0038c3" args="(ArPose &amp;mean, ArMatrix &amp;var)" -->
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#acf6a9362147d7e3e3b5cc7af1e0038c3">findLocalizationMeanVar</a> (<a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a> &amp;mean, ArMatrix &amp;var)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Function returns what the current mean pose and its variance. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3c916a43a5f6265d04c79ac8891b9317"></a><!-- doxytag: member="ArBaseLocalizationTask::setCorrectRobotFlag" ref="a3c916a43a5f6265d04c79ac8891b9317" args="(bool f)" -->
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#a3c916a43a5f6265d04c79ac8891b9317">setCorrectRobotFlag</a> (bool f)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to switch off moveTo inside the child localization tasks. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#a739c780c65e7386a022ee438bdb557cc">setRobotPose</a> (<a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a> pose, <a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a> spread=<a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a>(-1.,-1.,-1.), int nSam=-1)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a new position for the localization task thread to use on its next iteration.  <a href="#a739c780c65e7386a022ee438bdb557cc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a55bd3792ea7cfd8aece2931898bcc3fe"></a><!-- doxytag: member="ArBaseLocalizationTask::getRobotIsLostFlag" ref="a55bd3792ea7cfd8aece2931898bcc3fe" args="()" -->
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#a55bd3792ea7cfd8aece2931898bcc3fe">getRobotIsLostFlag</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds if the robot is lost. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4c0ce19b5ab00f6209db6bdb75378a8c"></a><!-- doxytag: member="ArBaseLocalizationTask::getIdleFlag" ref="a4c0ce19b5ab00f6209db6bdb75378a8c" args="()" -->
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#a4c0ce19b5ab00f6209db6bdb75378a8c">getIdleFlag</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds if the loca is idle. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0a7b693900b93525297cb9c33c0785be"></a><!-- doxytag: member="ArBaseLocalizationTask::getRobotHome" ref="a0a7b693900b93525297cb9c33c0785be" args="()" -->
virtual <a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#a0a7b693900b93525297cb9c33c0785be">getRobotHome</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the robot home pose This pose is the initial best localized position determined by <a class="el" href="classArBaseLocalizationTask.html#a781bf070438671d121b0a560fda9bcb1" title="Try localizing at each home position, choosing the best to be the current and the stored &quot;home&quot; posit...">localizeRobotAtHomeBlocking()</a> or localizeRobotAtHomeNonBlocking() methods. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a31a3a00c4bc772beb0f2e8df3aefa1fe"></a><!-- doxytag: member="ArBaseLocalizationTask::getRobotHomeCallback" ref="a31a3a00c4bc772beb0f2e8df3aefa1fe" args="()" -->
<a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArRetFunctor.html">ArRetFunctor</a>&lt; <a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a> &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#a31a3a00c4bc772beb0f2e8df3aefa1fe">getRobotHomeCallback</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a functor that when called returns the robot's home pose This pose is the initial best localized position determined by <a class="el" href="classArBaseLocalizationTask.html#a781bf070438671d121b0a560fda9bcb1" title="Try localizing at each home position, choosing the best to be the current and the stored &quot;home&quot; posit...">localizeRobotAtHomeBlocking()</a> or localizeRobotAtHomeNonBlocking() methods. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#a17567872d01a7fbf46398b22a1e08f00">getHomePose</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac584887b842ce50dec6214703473b41b"></a><!-- doxytag: member="ArBaseLocalizationTask::localizeRobotAtHomeBlocking" ref="ac584887b842ce50dec6214703473b41b" args="(double distSpread, double angleSpread)" -->
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#ac584887b842ce50dec6214703473b41b">localizeRobotAtHomeBlocking</a> (double distSpread, double angleSpread)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Localize robot at start or while initialization. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#a781bf070438671d121b0a560fda9bcb1">localizeRobotAtHomeBlocking</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Try localizing at each home position, choosing the best to be the current and the stored "home" position, using default parameters.  <a href="#a781bf070438671d121b0a560fda9bcb1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae0c16de637ec53afb493d57f4c20533a"></a><!-- doxytag: member="ArBaseLocalizationTask::getCurrentSamplePoses" ref="ae0c16de637ec53afb493d57f4c20533a" args="()" -->
virtual std::list&lt; <a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#ae0c16de637ec53afb493d57f4c20533a">getCurrentSamplePoses</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the current sample poses if relevant. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7879e95587529c7b576758da5d0cf8cc"></a><!-- doxytag: member="ArBaseLocalizationTask::getState" ref="a7879e95587529c7b576758da5d0cf8cc" args="(void)" -->
virtual <a class="el" href="classArBaseLocalizationTask.html#ac7e65bb9139f64c603a01017dcf475f9">LocalizationState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#a7879e95587529c7b576758da5d0cf8cc">getState</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the localization state. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af1ff3ad24e06a52fa8a74469ba78fd34"></a><!-- doxytag: member="ArBaseLocalizationTask::getLockState" ref="af1ff3ad24e06a52fa8a74469ba78fd34" args="(void)" -->
virtual <a class="el" href="classArBaseLocalizationTask.html#a7a4ce49dbf816df41e38597c5ed3a873">LockState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#af1ff3ad24e06a52fa8a74469ba78fd34">getLockState</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the localization lock state. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2999d0c831905472148db8c62ca33d3a"></a><!-- doxytag: member="ArBaseLocalizationTask::getLocalizationScore" ref="a2999d0c831905472148db8c62ca33d3a" args="(void)" -->
virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#a2999d0c831905472148db8c62ca33d3a">getLocalizationScore</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the localization score. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a200cb8a800161f20f80f08cd7db2e51a"></a><!-- doxytag: member="ArBaseLocalizationTask::getLocalizationLock" ref="a200cb8a800161f20f80f08cd7db2e51a" args="(void)" -->
virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#a200cb8a800161f20f80f08cd7db2e51a">getLocalizationLock</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the localization score. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a00b537f34e83280c9d8b419eaa86f1f1"></a><!-- doxytag: member="ArBaseLocalizationTask::getLocalizationThreshold" ref="a00b537f34e83280c9d8b419eaa86f1f1" args="(void)" -->
virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#a00b537f34e83280c9d8b419eaa86f1f1">getLocalizationThreshold</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the localization threshold. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aee9dbd1b2390089031d46e0bb3145c9d"></a><!-- doxytag: member="ArBaseLocalizationTask::checkLocalizationIdle" ref="aee9dbd1b2390089031d46e0bb3145c9d" args="(void)" -->
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#aee9dbd1b2390089031d46e0bb3145c9d">checkLocalizationIdle</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the localization idle. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a53ba2a6b83ecbf1ab68b15aeb8cf1404"></a><!-- doxytag: member="ArBaseLocalizationTask::setLocalizationIdle" ref="a53ba2a6b83ecbf1ab68b15aeb8cf1404" args="(bool f)" -->
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#a53ba2a6b83ecbf1ab68b15aeb8cf1404">setLocalizationIdle</a> (bool f)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the localization idle. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afe357b39e0ddfe8b7b8b537fce2186a7"></a><!-- doxytag: member="ArBaseLocalizationTask::setLocalizationThreshold" ref="afe357b39e0ddfe8b7b8b537fce2186a7" args="(double t)" -->
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#afe357b39e0ddfe8b7b8b537fce2186a7">setLocalizationThreshold</a> (double t)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the localization threshold. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3ab172ccc7e354121ad169b1dde9c48a"></a><!-- doxytag: member="ArBaseLocalizationTask::getName" ref="a3ab172ccc7e354121ad169b1dde9c48a" args="(void)" -->
const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#a3ab172ccc7e354121ad169b1dde9c48a">getName</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the name of this task. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#a9cd33f03c9fd8aa671dd0ea167d73892">getPoseInterpPosition</a> (<a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArTime.html">ArTime</a> timeStamp, <a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a> *position, <a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPoseWithTime.html">ArPoseWithTime</a> *mostRecent=NULL)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the position the robot was at at the given timestamp.  <a href="#a9cd33f03c9fd8aa671dd0ea167d73892"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac36ac079178ef8405b22303b45ba103e"></a><!-- doxytag: member="ArBaseLocalizationTask::getInterpolation" ref="ac36ac079178ef8405b22303b45ba103e" args="(void)" -->
virtual <a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArInterpolation.html">ArInterpolation</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#ac36ac079178ef8405b22303b45ba103e">getInterpolation</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the interpolation object for more direct use. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af6df7f207d1c6f9f77887ba14ae3afb0"></a><!-- doxytag: member="ArBaseLocalizationTask::getPoseInterpPositionCallback" ref="af6df7f207d1c6f9f77887ba14ae3afb0" args="(void)" -->
<a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArRetFunctor3.html">ArRetFunctor3</a>&lt; int, <a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArTime.html">ArTime</a>, <br class="typebreak"/>
<a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a> *, <a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPoseWithTime.html">ArPoseWithTime</a> * &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#af6df7f207d1c6f9f77887ba14ae3afb0">getPoseInterpPositionCallback</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the callback that will call getPoseInterpPosition. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad6edf9758c06ae7492eeb51fb2975fce"></a><!-- doxytag: member="ArBaseLocalizationTask::convertLLA2RobotCoords" ref="ad6edf9758c06ae7492eeb51fb2975fce" args="(double lat, double lon, double alt, double &amp;ea, double &amp;no, double &amp;up)" -->
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#ad6edf9758c06ae7492eeb51fb2975fce">convertLLA2RobotCoords</a> (double lat, double lon, double alt, double &amp;ea, double &amp;no, double &amp;up)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert LLA to Robot. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2088c3f0733e915ae90b4111e9d50968"></a><!-- doxytag: member="ArBaseLocalizationTask::convertRobot2LLACoords" ref="a2088c3f0733e915ae90b4111e9d50968" args="(double ea, double no, double up, double &amp;lat, double &amp;lon, double &amp;alt)" -->
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#a2088c3f0733e915ae90b4111e9d50968">convertRobot2LLACoords</a> (double ea, double no, double up, double &amp;lat, double &amp;lon, double &amp;alt)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert Robot to LLA. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArTransform.html">ArTransform</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#ab4817e3fe497511501b8b35942e86138">getEncoderToLocalizationTransform</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the transform converting the encoder pose to global pose for this localization.  <a href="#ab4817e3fe497511501b8b35942e86138"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0b5d099c1e7a0a8566335ae06dfe544b"></a><!-- doxytag: member="ArBaseLocalizationTask::getEncoderToLocalizationTransformCallback" ref="a0b5d099c1e7a0a8566335ae06dfe544b" args="(void)" -->
<a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArRetFunctor.html">ArRetFunctor</a>&lt; <a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArTransform.html">ArTransform</a> &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#a0b5d099c1e7a0a8566335ae06dfe544b">getEncoderToLocalizationTransformCallback</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the callback for getEncoderToLocalizationTransform. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae40f6895f87e0bec8d04bcd3ce9b0d63"></a><!-- doxytag: member="ArBaseLocalizationTask::addStateChangeCB" ref="ae40f6895f87e0bec8d04bcd3ce9b0d63" args="(ArFunctor *functor, int position=50)" -->
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#ae40f6895f87e0bec8d04bcd3ce9b0d63">addStateChangeCB</a> (<a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArFunctor.html">ArFunctor</a> *functor, int position=50)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a plain callback for when the state changes. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad96934d34693a16c1c60630b8e776254"></a><!-- doxytag: member="ArBaseLocalizationTask::remStateChangeCB" ref="ad96934d34693a16c1c60630b8e776254" args="(ArFunctor *functor)" -->
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#ad96934d34693a16c1c60630b8e776254">remStateChangeCB</a> (<a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArFunctor.html">ArFunctor</a> *functor)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a plain callback for when the state changes. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa21ada560c2314e9fdcd16b1e6f210b1"></a><!-- doxytag: member="ArBaseLocalizationTask::saveInternalStateToString" ref="aa21ada560c2314e9fdcd16b1e6f210b1" args="(void)" -->
virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#aa21ada560c2314e9fdcd16b1e6f210b1">saveInternalStateToString</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Save the localization state (kalman) into a string. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acba7389cf731f5c4509904a7ab72469f"></a><!-- doxytag: member="ArBaseLocalizationTask::restoreInternalStateFromString" ref="acba7389cf731f5c4509904a7ab72469f" args="(std::string str)" -->
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#acba7389cf731f5c4509904a7ab72469f">restoreInternalStateFromString</a> (std::string str)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Save the localization state (kalman) into a string. <br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>This class has the similar items of ArLocalizationTask and ArSonarLocalizationTask, right now thats just one enum, later it may grow to become more. </p>
</div><hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="ac7e65bb9139f64c603a01017dcf475f9"></a><!-- doxytag: member="ArBaseLocalizationTask::LocalizationState" ref="ac7e65bb9139f64c603a01017dcf475f9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classArBaseLocalizationTask.html#ac7e65bb9139f64c603a01017dcf475f9">ArBaseLocalizationTask::LocalizationState</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>State of the localization, accessible using <a class="el" href="classArBaseLocalizationTask.html#a7879e95587529c7b576758da5d0cf8cc" title="Get the localization state.">getState()</a>. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ac7e65bb9139f64c603a01017dcf475f9a2959f9b6e2f6752339ed469bf9688599"></a><!-- doxytag: member="LOCALIZATION_FAILED" ref="ac7e65bb9139f64c603a01017dcf475f9a2959f9b6e2f6752339ed469bf9688599" args="" -->LOCALIZATION_FAILED</em>&nbsp;</td><td>
<p>Task not initialized 0. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ac7e65bb9139f64c603a01017dcf475f9a743f51a5aabb5a1a48cddce5e97167cd"></a><!-- doxytag: member="LOCALIZATION_SUCCESS" ref="ac7e65bb9139f64c603a01017dcf475f9a743f51a5aabb5a1a48cddce5e97167cd" args="" -->LOCALIZATION_SUCCESS</em>&nbsp;</td><td>
<p>Failed localization. 1. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ac7e65bb9139f64c603a01017dcf475f9aac99ce23eb413fd8151741d45447ead2"></a><!-- doxytag: member="LOCALIZATION_INIT_COMPUTING" ref="ac7e65bb9139f64c603a01017dcf475f9aac99ce23eb413fd8151741d45447ead2" args="" -->LOCALIZATION_INIT_COMPUTING</em>&nbsp;</td><td>
<p>Localization succeeded. 2. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ac7e65bb9139f64c603a01017dcf475f9ad4d897f45b5de439162073c84af12d20"></a><!-- doxytag: member="LOCALIZATION_MOVE_COMPUTING" ref="ac7e65bb9139f64c603a01017dcf475f9ad4d897f45b5de439162073c84af12d20" args="" -->LOCALIZATION_MOVE_COMPUTING</em>&nbsp;</td><td>
<p>Localization init in progress. 3. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ac7e65bb9139f64c603a01017dcf475f9a9a0ab4ae4e11355816f75b592bf1c689"></a><!-- doxytag: member="LOCALIZATION_IDLE" ref="ac7e65bb9139f64c603a01017dcf475f9a9a0ab4ae4e11355816f75b592bf1c689" args="" -->LOCALIZATION_IDLE</em>&nbsp;</td><td>
<p>Localization move in progress. 4. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ac7e65bb9139f64c603a01017dcf475f9a5f382aaf1c8fcd6c65f803f2ba8d4018"></a><!-- doxytag: member="INVALID" ref="ac7e65bb9139f64c603a01017dcf475f9a5f382aaf1c8fcd6c65f803f2ba8d4018" args="" -->INVALID</em>&nbsp;</td><td>
<p>Localization idled. 5. </p>
<p>Invalid state. 6 </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<a class="anchor" id="a7a4ce49dbf816df41e38597c5ed3a873"></a><!-- doxytag: member="ArBaseLocalizationTask::LockState" ref="a7a4ce49dbf816df41e38597c5ed3a873" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classArBaseLocalizationTask.html#a7a4ce49dbf816df41e38597c5ed3a873">ArBaseLocalizationTask::LockState</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>State of the lock, accessible using <a class="el" href="classArBaseLocalizationTask.html#af1ff3ad24e06a52fa8a74469ba78fd34" title="Get the localization lock state.">getLockState()</a>. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a7a4ce49dbf816df41e38597c5ed3a873a0a06f082139550601c7c306f3c07c369"></a><!-- doxytag: member="LOST" ref="a7a4ce49dbf816df41e38597c5ed3a873a0a06f082139550601c7c306f3c07c369" args="" -->LOST</em>&nbsp;</td><td>
<p>Lock not initialized 0. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a7a4ce49dbf816df41e38597c5ed3a873a7af74c90da726797a1faa8f4cbcfb90a"></a><!-- doxytag: member="LOST_LOCK" ref="a7a4ce49dbf816df41e38597c5ed3a873a7af74c90da726797a1faa8f4cbcfb90a" args="" -->LOST_LOCK</em>&nbsp;</td><td>
<p>Failed lock for too long. 1. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a7a4ce49dbf816df41e38597c5ed3a873a335c3127da77fa3fa1f685e18f5b0798"></a><!-- doxytag: member="LOCKED" ref="a7a4ce49dbf816df41e38597c5ed3a873a335c3127da77fa3fa1f685e18f5b0798" args="" -->LOCKED</em>&nbsp;</td><td>
<p>Failed lock. 2. </p>
<p>Localization succeeded. 3 </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ab4817e3fe497511501b8b35942e86138"></a><!-- doxytag: member="ArBaseLocalizationTask::getEncoderToLocalizationTransform" ref="ab4817e3fe497511501b8b35942e86138" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArTransform.html">ArTransform</a> <a class="el" href="classArBaseLocalizationTask.html#ab4817e3fe497511501b8b35942e86138">ArBaseLocalizationTask::getEncoderToLocalizationTransform</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return the transform converting the encoder pose to global pose for this localization. </p>
<p>Needed for interpolation between two locas in time. </p>

</div>
</div>
<a class="anchor" id="a17567872d01a7fbf46398b22a1e08f00"></a><!-- doxytag: member="ArBaseLocalizationTask::getHomePose" ref="a17567872d01a7fbf46398b22a1e08f00" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a> <a class="el" href="classArBaseLocalizationTask.html#a17567872d01a7fbf46398b22a1e08f00">ArBaseLocalizationTask::getHomePose</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000001">Deprecated:</a></b></dt><dd></dd></dl>

</div>
</div>
<a class="anchor" id="a9cd33f03c9fd8aa671dd0ea167d73892"></a><!-- doxytag: member="ArBaseLocalizationTask::getPoseInterpPosition" ref="a9cd33f03c9fd8aa671dd0ea167d73892" args="(ArTime timeStamp, ArPose *position, ArPoseWithTime *mostRecent=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int <a class="el" href="classArBaseLocalizationTask.html#a9cd33f03c9fd8aa671dd0ea167d73892">ArBaseLocalizationTask::getPoseInterpPosition</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArTime.html">ArTime</a>&#160;</td>
          <td class="paramname"><em>timeStamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a> *&#160;</td>
          <td class="paramname"><em>position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPoseWithTime.html">ArPoseWithTime</a> *&#160;</td>
          <td class="paramname"><em>mostRecent</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the position the robot was at at the given timestamp. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArInterpolation.html#a921584c2abed2141ae892c6239b2b13e">ArInterpolation::getPose</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a781bf070438671d121b0a560fda9bcb1"></a><!-- doxytag: member="ArBaseLocalizationTask::localizeRobotAtHomeBlocking" ref="a781bf070438671d121b0a560fda9bcb1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool <a class="el" href="classArBaseLocalizationTask.html#ac584887b842ce50dec6214703473b41b">ArBaseLocalizationTask::localizeRobotAtHomeBlocking</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Try localizing at each home position, choosing the best to be the current and the stored "home" position, using default parameters. </p>

</div>
</div>
<a class="anchor" id="a739c780c65e7386a022ee438bdb557cc"></a><!-- doxytag: member="ArBaseLocalizationTask::setRobotPose" ref="a739c780c65e7386a022ee438bdb557cc" args="(ArPose pose, ArPose spread=ArPose(&#45;1.,&#45;1.,&#45;1.), int nSam=&#45;1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="classArBaseLocalizationTask.html#a739c780c65e7386a022ee438bdb557cc">ArBaseLocalizationTask::setRobotPose</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a>&#160;</td>
          <td class="paramname"><em>pose</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a>&#160;</td>
          <td class="paramname"><em>spread</em> = <code><a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a>(-1.,&#160;-1.,&#160;-1.)</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nSam</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set a new position for the localization task thread to use on its next iteration. </p>
<p>Some localization techniques may simply continue from the new position, others may perform some extra checks against map data similar to an initial startup localization. Some paremeters may optionally be supplied. If not given, then previously stored parameters are used (normally as given in <a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArConfig.html">ArConfig</a>). This function returns immediately after setting up the new position; it does not block until the localization is finished. (You can use the localization status accessors and callbacks to determine whether localization later fails.) </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">spread</td><td>Use this instead of any stored "spread" parameters, if applicable to a particular localization technique </td></tr>
    <tr><td class="paramname">nSam</td><td>Use this instead of any stored "number of samples" parameter, if applicable to a particular localization technique </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="classArLocalizationManager.html#a171285edc6d48d3340183da524d6be28">ArLocalizationManager</a>.</p>

</div>
</div>
</div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="classArBaseLocalizationTask.html">ArBaseLocalizationTask</a>      </li>

    <li class="footer">Generated on Thu Oct 30 2014 14:10:39 for BaseArnl by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
