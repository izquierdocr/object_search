<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>BaseArnl: ArLocalizationManager Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">BaseArnl
   &#160;<span id="projectnumber">1.9.0</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classArLocalizationManager.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">ArLocalizationManager Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="ArLocalizationManager" --><!-- doxytag: inherits="ArBaseLocalizationTask" -->
<p>Task that fuses the output of the multiple localization threads.  
 <a href="classArLocalizationManager.html#details">More...</a></p>

<p><code>#include &lt;ArLocalizationManager.h&gt;</code></p>
<div class="dynheader">
Inheritance diagram for ArLocalizationManager:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classArLocalizationManager.png" usemap="#ArLocalizationManager_map" alt=""/>
  <map id="ArLocalizationManager_map" name="ArLocalizationManager_map">
<area href="classArBaseLocalizationTask.html" title="This class has the similar items of ArLocalizationTask and ArSonarLocalizationTask, right now thats just one enum, later it may grow to become more." alt="ArBaseLocalizationTask" shape="rect" coords="0,56,147,80"/>
<area doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArASyncTask.html" alt="ArASyncTask" shape="rect" coords="0,0,147,24"/>
</map>
 </div></div>

<p><a href="classArLocalizationManager-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a47d66a3191f5e87a305f934772f61297"></a><!-- doxytag: member="ArLocalizationManager::ArLocalizationManager" ref="a47d66a3191f5e87a305f934772f61297" args="(ArRobot *robot, ArMapInterface *ariaMap)" -->
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationManager.html#a47d66a3191f5e87a305f934772f61297">ArLocalizationManager</a> (<a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArRobot.html">ArRobot</a> *robot, <a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArMapInterface.html">ArMapInterface</a> *ariaMap)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Base constructor with all the necessary inputs. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7f5f1f0239b770f5d33579604da51b18"></a><!-- doxytag: member="ArLocalizationManager::~ArLocalizationManager" ref="a7f5f1f0239b770f5d33579604da51b18" args="(void)" -->
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationManager.html#a7f5f1f0239b770f5d33579604da51b18">~ArLocalizationManager</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationManager.html#a3e8fe13abad5e698dc3f8b527455eafc">fuseTwoDistributions</a> (<a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a> m1, ArMatrix V1, double s1, double threshold1, <a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a> m2, ArMatrix V2, double s2, double threshold2, <a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a> &amp;mean, ArMatrix &amp;Var, double &amp;s, double &amp;threshold)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Fuse two distributions to make one mean pose and one variance matrix.  <a href="#a3e8fe13abad5e698dc3f8b527455eafc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationManager.html#a724677bf1495bf4e7547018d6385f3b9">addLocalizationTask</a> (<a class="el" href="classArBaseLocalizationTask.html">ArBaseLocalizationTask</a> *loca)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a localization to be managed.  <a href="#a724677bf1495bf4e7547018d6385f3b9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationManager.html#aa0a9417ca07974fcf4500ed84b1181aa">removeLocalizationTask</a> (<a class="el" href="classArBaseLocalizationTask.html">ArBaseLocalizationTask</a> *loca)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a localization from the managing.  <a href="#aa0a9417ca07974fcf4500ed84b1181aa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationManager.html#a5822eae7ea5e70c933b4c3bf9f12ae93">findLocalizationMeanVar</a> (<a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a> &amp;mean, ArMatrix &amp;Var)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The actual mean var calculator for the virtual in the base class.  <a href="#a5822eae7ea5e70c933b4c3bf9f12ae93"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationManager.html#a9cf53ff25b3b88593ec255d60b35773c">setCorrectRobotFlag</a> (bool a)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the flag deciding whether to reflect localized pose onto the robot.  <a href="#a9cf53ff25b3b88593ec255d60b35773c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationManager.html#a171285edc6d48d3340183da524d6be28">setRobotPose</a> (<a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a> pose, <a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a> spread=<a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a>(0, 0, 0), int nSam=0)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to set the robot pose usually at the start of localization.  <a href="#a171285edc6d48d3340183da524d6be28"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationManager.html#af88a801344ea88aac5d2ea2963ce1672">localizeRobotAtHomeBlocking</a> (double distSpread, double angleSpread)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Localize robot at start or while initialization.  <a href="#af88a801344ea88aac5d2ea2963ce1672"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classArBaseLocalizationTask.html">ArBaseLocalizationTask</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationManager.html#a4771afd520ec5964c1a9df79b2c573c5">getLightLocalizationPtr</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to get the light loca pointer.  <a href="#a4771afd520ec5964c1a9df79b2c573c5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae5ef74a4d2dec4523e0ea3b13e586e05"></a><!-- doxytag: member="ArLocalizationManager::getRobotIsLostFlag" ref="ae5ef74a4d2dec4523e0ea3b13e586e05" args="(void)" -->
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationManager.html#ae5ef74a4d2dec4523e0ea3b13e586e05">getRobotIsLostFlag</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the lost flag. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0c8ea72133259b3fefc83377bcd94846"></a><!-- doxytag: member="ArLocalizationManager::getIdleFlag" ref="a0c8ea72133259b3fefc83377bcd94846" args="()" -->
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationManager.html#a0c8ea72133259b3fefc83377bcd94846">getIdleFlag</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds if the robot is lost. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6fc3d1fc93005261a45bd85336607925"></a><!-- doxytag: member="ArLocalizationManager::getState" ref="a6fc3d1fc93005261a45bd85336607925" args="(void)" -->
virtual <a class="el" href="classArBaseLocalizationTask.html#ac7e65bb9139f64c603a01017dcf475f9">LocalizationState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationManager.html#a6fc3d1fc93005261a45bd85336607925">getState</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the state of localization. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationManager.html#ac6dc3b5b0309275ebaa9193f99f8f17c">getLocalizationScore</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the weighted average of the scores from the localizations in its list.  <a href="#ac6dc3b5b0309275ebaa9193f99f8f17c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7c0b6baad221ac0dd90ed2877832f2ca"></a><!-- doxytag: member="ArLocalizationManager::getLocalizationThreshold" ref="a7c0b6baad221ac0dd90ed2877832f2ca" args="(void)" -->
virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationManager.html#a7c0b6baad221ac0dd90ed2877832f2ca">getLocalizationThreshold</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the localization threshold. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae424ff8e67506b8420cef98459c3d425"></a><!-- doxytag: member="ArLocalizationManager::setLocalizationScore" ref="ae424ff8e67506b8420cef98459c3d425" args="(double f)" -->
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationManager.html#ae424ff8e67506b8420cef98459c3d425">setLocalizationScore</a> (double f)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to set the score. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1fb1eb50567691aa32558588f633dffc"></a><!-- doxytag: member="ArLocalizationManager::setLocalizationThreshold" ref="a1fb1eb50567691aa32558588f633dffc" args="(double t)" -->
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationManager.html#a1fb1eb50567691aa32558588f633dffc">setLocalizationThreshold</a> (double t)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the localization threshold. <br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationManager.html#a36310194d18b3b7f26c4c9440101eb39">runThread</a> (void *ptr)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Function used to run the task as a thread.  <a href="#a36310194d18b3b7f26c4c9440101eb39"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationManager.html#a673802129449304aebdae6a1ee199015">reconfigureLocalization</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Needed if the params are changed or loaded again.  <a href="#a673802129449304aebdae6a1ee199015"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Task that fuses the output of the multiple localization threads. </p>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a724677bf1495bf4e7547018d6385f3b9"></a><!-- doxytag: member="ArLocalizationManager::addLocalizationTask" ref="a724677bf1495bf4e7547018d6385f3b9" args="(ArBaseLocalizationTask *loca)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classArLocalizationManager.html#a724677bf1495bf4e7547018d6385f3b9">ArLocalizationManager::addLocalizationTask</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classArBaseLocalizationTask.html">ArBaseLocalizationTask</a> *&#160;</td>
          <td class="paramname"><em>loca</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Adds a localization to be managed. </p>
<p>Adds a localization to be managed.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">The</td><td>localization task to be added.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true. </dd></dl>

</div>
</div>
<a class="anchor" id="a5822eae7ea5e70c933b4c3bf9f12ae93"></a><!-- doxytag: member="ArLocalizationManager::findLocalizationMeanVar" ref="a5822eae7ea5e70c933b4c3bf9f12ae93" args="(ArPose &amp;mean, ArMatrix &amp;Var)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classArLocalizationManager.html#a5822eae7ea5e70c933b4c3bf9f12ae93">ArLocalizationManager::findLocalizationMeanVar</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a> &amp;&#160;</td>
          <td class="paramname"><em>mean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArMatrix &amp;&#160;</td>
          <td class="paramname"><em>var</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The actual mean var calculator for the virtual in the base class. </p>
<p>Return the last mean and variance from all the localization threads.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">mean</td><td>Reference to the pose to be filled on return. </td></tr>
    <tr><td class="paramname">var</td><td>Reference to the matrix to be filled on return.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true. </dd></dl>

<p>Reimplemented from <a class="el" href="classArBaseLocalizationTask.html#acf6a9362147d7e3e3b5cc7af1e0038c3">ArBaseLocalizationTask</a>.</p>

</div>
</div>
<a class="anchor" id="a3e8fe13abad5e698dc3f8b527455eafc"></a><!-- doxytag: member="ArLocalizationManager::fuseTwoDistributions" ref="a3e8fe13abad5e698dc3f8b527455eafc" args="(ArPose m1, ArMatrix V1, double s1, double threshold1, ArPose m2, ArMatrix V2, double s2, double threshold2, ArPose &amp;mean, ArMatrix &amp;Var, double &amp;s, double &amp;threshold)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classArLocalizationManager.html#a3e8fe13abad5e698dc3f8b527455eafc">ArLocalizationManager::fuseTwoDistributions</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a>&#160;</td>
          <td class="paramname"><em>m1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArMatrix&#160;</td>
          <td class="paramname"><em>V1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>s1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>threshold1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a>&#160;</td>
          <td class="paramname"><em>m2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArMatrix&#160;</td>
          <td class="paramname"><em>V2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>s2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>threshold2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a> &amp;&#160;</td>
          <td class="paramname"><em>mean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArMatrix &amp;&#160;</td>
          <td class="paramname"><em>Var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>threshold</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Fuse two distributions to make one mean pose and one variance matrix. </p>
<p>Combines two gaussian distributions into one. Also interpolates the score as the weighted average of the two dists.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">m1,:</td><td>Mean of first distribution. </td></tr>
    <tr><td class="paramname">V1,:</td><td>Variance matrix of the first distribution. </td></tr>
    <tr><td class="paramname">s1,:</td><td>Score of the first localization. </td></tr>
    <tr><td class="paramname">m2,:</td><td>Mean of second distribution. </td></tr>
    <tr><td class="paramname">V2,:</td><td>Variance matrix of the second distribution. </td></tr>
    <tr><td class="paramname">s2,:</td><td>Score of the second localization. </td></tr>
    <tr><td class="paramname">mean,:</td><td>Mean of the combine. </td></tr>
    <tr><td class="paramname">Var,:</td><td>Variance matrix of the combine. </td></tr>
    <tr><td class="paramname">s,:</td><td>Score of the combined localization.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if successful else false. </dd></dl>

</div>
</div>
<a class="anchor" id="a4771afd520ec5964c1a9df79b2c573c5"></a><!-- doxytag: member="ArLocalizationManager::getLightLocalizationPtr" ref="a4771afd520ec5964c1a9df79b2c573c5" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classArBaseLocalizationTask.html">ArBaseLocalizationTask</a>* <a class="el" href="classArLocalizationManager.html#a4771afd520ec5964c1a9df79b2c573c5">ArLocalizationManager::getLightLocalizationPtr</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function to get the light loca pointer. </p>
<p>Do the fusing. </p>

</div>
</div>
<a class="anchor" id="ac6dc3b5b0309275ebaa9193f99f8f17c"></a><!-- doxytag: member="ArLocalizationManager::getLocalizationScore" ref="ac6dc3b5b0309275ebaa9193f99f8f17c" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual double <a class="el" href="classArLocalizationManager.html#ac6dc3b5b0309275ebaa9193f99f8f17c">ArLocalizationManager::getLocalizationScore</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the weighted average of the scores from the localizations in its list. </p>
<p>Only the XY pose uncertainity is used for now compute the weight. The theta uncertainity is ignored. </p>

<p>Reimplemented from <a class="el" href="classArBaseLocalizationTask.html#a2999d0c831905472148db8c62ca33d3a">ArBaseLocalizationTask</a>.</p>

</div>
</div>
<a class="anchor" id="af88a801344ea88aac5d2ea2963ce1672"></a><!-- doxytag: member="ArLocalizationManager::localizeRobotAtHomeBlocking" ref="af88a801344ea88aac5d2ea2963ce1672" args="(double distSpread, double angleSpread)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classArLocalizationManager.html#af88a801344ea88aac5d2ea2963ce1672">ArLocalizationManager::localizeRobotAtHomeBlocking</a> </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>distSpread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>angleSpread</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Localize robot at start or while initialization. </p>
<p>Sets robot pose for localization init.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pose,:</td><td>The pose to initialize to. </td></tr>
    <tr><td class="paramname">spread,:</td><td>The spread about the mean pose. </td></tr>
    <tr><td class="paramname">nSum,:</td><td>Unused. </td></tr>
  </table>
  </dd>
</dl>
<p>Do the fusing. </p>

<p>Reimplemented from <a class="el" href="classArBaseLocalizationTask.html#ac584887b842ce50dec6214703473b41b">ArBaseLocalizationTask</a>.</p>

</div>
</div>
<a class="anchor" id="a673802129449304aebdae6a1ee199015"></a><!-- doxytag: member="ArLocalizationManager::reconfigureLocalization" ref="a673802129449304aebdae6a1ee199015" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classArLocalizationManager.html#a673802129449304aebdae6a1ee199015">ArLocalizationManager::reconfigureLocalization</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Needed if the params are changed or loaded again. </p>
<p>A function to setup the laser if it wasnt connected first time around.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if successful else false. </dd></dl>

</div>
</div>
<a class="anchor" id="aa0a9417ca07974fcf4500ed84b1181aa"></a><!-- doxytag: member="ArLocalizationManager::removeLocalizationTask" ref="aa0a9417ca07974fcf4500ed84b1181aa" args="(ArBaseLocalizationTask *loca)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classArLocalizationManager.html#aa0a9417ca07974fcf4500ed84b1181aa">ArLocalizationManager::removeLocalizationTask</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classArBaseLocalizationTask.html">ArBaseLocalizationTask</a> *&#160;</td>
          <td class="paramname"><em>loca</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Removes a localization from the managing. </p>
<p>Removes a localization to be managed.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">The</td><td>localization task to be added.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true. </dd></dl>

</div>
</div>
<a class="anchor" id="a36310194d18b3b7f26c4c9440101eb39"></a><!-- doxytag: member="ArLocalizationManager::runThread" ref="a36310194d18b3b7f26c4c9440101eb39" args="(void *ptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * <a class="el" href="classArLocalizationManager.html#a36310194d18b3b7f26c4c9440101eb39">ArLocalizationManager::runThread</a> </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Function used to run the task as a thread. </p>
<p>The main loop for the background localization thread. </p>
<p>Do the fusing.</p>
<p>MPL commenting this out since it causes a deadlock and isn't needed</p>
<p>MPL commenting this out since it causes a deadlock and isn't needed</p>
<p>Interpolating the combined pose at any given time. </p>

<p>Implements <a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArASyncTask.html#a370bd38ad2a285af30cf722a9e3f4532">ArASyncTask</a>.</p>

</div>
</div>
<a class="anchor" id="a9cf53ff25b3b88593ec255d60b35773c"></a><!-- doxytag: member="ArLocalizationManager::setCorrectRobotFlag" ref="a9cf53ff25b3b88593ec255d60b35773c" args="(bool a)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classArLocalizationManager.html#a9cf53ff25b3b88593ec255d60b35773c">ArLocalizationManager::setCorrectRobotFlag</a> </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the flag deciding whether to reflect localized pose onto the robot. </p>
<p>Sets the correct robot flag, this flag decides if the localization results will be poked into the robot.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">f,:</td><td>Value to be set to. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classArBaseLocalizationTask.html#a3c916a43a5f6265d04c79ac8891b9317">ArBaseLocalizationTask</a>.</p>

</div>
</div>
<a class="anchor" id="a171285edc6d48d3340183da524d6be28"></a><!-- doxytag: member="ArLocalizationManager::setRobotPose" ref="a171285edc6d48d3340183da524d6be28" args="(ArPose pose, ArPose spread=ArPose(0, 0, 0), int nSam=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classArLocalizationManager.html#a171285edc6d48d3340183da524d6be28">ArLocalizationManager::setRobotPose</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a>&#160;</td>
          <td class="paramname"><em>pose</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a>&#160;</td>
          <td class="paramname"><em>spread</em> = <code><a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a>(0,&#160;0,&#160;0)</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nSam</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Used to set the robot pose usually at the start of localization. </p>
<p>This one with a spread around the set pose.</p>
<p>Sets robot pose for localization init.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pose,:</td><td>The pose to initialize to. </td></tr>
    <tr><td class="paramname">spread,:</td><td>The spread about the mean pose. </td></tr>
    <tr><td class="paramname">nSum,:</td><td>Unused. </td></tr>
  </table>
  </dd>
</dl>
<p>Do the fusing. </p>

<p>Reimplemented from <a class="el" href="classArBaseLocalizationTask.html#a739c780c65e7386a022ee438bdb557cc">ArBaseLocalizationTask</a>.</p>

</div>
</div>
</div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="classArLocalizationManager.html">ArLocalizationManager</a>      </li>

    <li class="footer">Generated on Thu Oct 30 2014 14:10:39 for BaseArnl by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
