<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>ArNetworking: ArServerHandlerMap Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">ArNetworking
   &#160;<span id="projectnumber">2.9.0(ForARNL1.9.0)</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classArServerHandlerMap.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">ArServerHandlerMap Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="ArServerHandlerMap" -->
<p>Service providing the contents of a map file to the client.  
 <a href="classArServerHandlerMap.html#details">More...</a></p>

<p><code>#include &lt;ArServerHandlerMap.h&gt;</code></p>

<p><a href="classArServerHandlerMap-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><b>DataToSend</b> { <b>LINES</b> =  1, 
<b>POINTS</b> =  2, 
<b>BOTH</b> =  3
 }</td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a95166d757b0915e5dca239f44d739e99"></a><!-- doxytag: member="ArServerHandlerMap::ArServerHandlerMap" ref="a95166d757b0915e5dca239f44d739e99" args="(ArServerBase *server, ArMapInterface *arMap=NULL, DataToSend dataToSend=BOTH)" -->
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArServerHandlerMap.html#a95166d757b0915e5dca239f44d739e99">ArServerHandlerMap</a> (<a class="el" href="classArServerBase.html">ArServerBase</a> *server, <a class="elRef" doxygen="Aria.tag:../Aria-Reference/" href="../Aria-Reference/classArMapInterface.html">ArMapInterface</a> *arMap=NULL, DataToSend dataToSend=BOTH)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a451a22172e968ec6c7416a9ada3e1673"></a><!-- doxytag: member="ArServerHandlerMap::getDataToSend" ref="a451a22172e968ec6c7416a9ada3e1673" args="(void)" -->
DataToSend&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArServerHandlerMap.html#a451a22172e968ec6c7416a9ada3e1673">getDataToSend</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets which kind of data we send. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2672653ba7d83d63d8a00f8486205a36"></a><!-- doxytag: member="ArServerHandlerMap::getMap" ref="a2672653ba7d83d63d8a00f8486205a36" args="(void)" -->
<a class="elRef" doxygen="Aria.tag:../Aria-Reference/" href="../Aria-Reference/classArMapInterface.html">ArMapInterface</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArServerHandlerMap.html#a2672653ba7d83d63d8a00f8486205a36">getMap</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the map object this is using. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3c0137cf1b3cd7ad0e4991bfc6089d93"></a><!-- doxytag: member="ArServerHandlerMap::loadMap" ref="a3c0137cf1b3cd7ad0e4991bfc6089d93" args="(const char *mapFile)" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArServerHandlerMap.html#a3c0137cf1b3cd7ad0e4991bfc6089d93">loadMap</a> (const char *mapFile)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads the map from a file. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a89d83704706b39b4c0687d85df7fd4a5"></a><!-- doxytag: member="ArServerHandlerMap::serverGetGoals" ref="a89d83704706b39b4c0687d85df7fd4a5" args="(ArServerClient *client, ArNetPacket *packet)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArServerHandlerMap.html#a89d83704706b39b4c0687d85df7fd4a5">serverGetGoals</a> (<a class="el" href="classArServerClient.html">ArServerClient</a> *client, <a class="el" href="classArNetPacket.html">ArNetPacket</a> *packet)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The command that'll get the goals. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7c74d8236e31f3c26df096eb75a83775"></a><!-- doxytag: member="ArServerHandlerMap::serverGetMap" ref="a7c74d8236e31f3c26df096eb75a83775" args="(ArServerClient *client, ArNetPacket *packet)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArServerHandlerMap.html#a7c74d8236e31f3c26df096eb75a83775">serverGetMap</a> (<a class="el" href="classArServerClient.html">ArServerClient</a> *client, <a class="el" href="classArNetPacket.html">ArNetPacket</a> *packet)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The command that'll get the map itself. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acc3da98775bcbadd237260f8c5685087"></a><!-- doxytag: member="ArServerHandlerMap::serverGetMapBinary" ref="acc3da98775bcbadd237260f8c5685087" args="(ArServerClient *client, ArNetPacket *packet)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArServerHandlerMap.html#acc3da98775bcbadd237260f8c5685087">serverGetMapBinary</a> (<a class="el" href="classArServerClient.html">ArServerClient</a> *client, <a class="el" href="classArNetPacket.html">ArNetPacket</a> *packet)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The command that gets the map, with the data in binary format for improved performance. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0fc3c08c6b2b35af0a0342c961af5f4d"></a><!-- doxytag: member="ArServerHandlerMap::serverGetMapId" ref="a0fc3c08c6b2b35af0a0342c961af5f4d" args="(ArServerClient *client, ArNetPacket *packet)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArServerHandlerMap.html#a0fc3c08c6b2b35af0a0342c961af5f4d">serverGetMapId</a> (<a class="el" href="classArServerClient.html">ArServerClient</a> *client, <a class="el" href="classArNetPacket.html">ArNetPacket</a> *packet)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the request for the map ID. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4e7d54602c7f5743d08149032b2a76b8"></a><!-- doxytag: member="ArServerHandlerMap::serverGetMapMultiScans" ref="a4e7d54602c7f5743d08149032b2a76b8" args="(ArServerClient *client, ArNetPacket *packet)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArServerHandlerMap.html#a4e7d54602c7f5743d08149032b2a76b8">serverGetMapMultiScans</a> (<a class="el" href="classArServerClient.html">ArServerClient</a> *client, <a class="el" href="classArNetPacket.html">ArNetPacket</a> *packet)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Requests that the server send the map, including scan data for multiple sources if available. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9b981c4fe18f14d95cd4405fbc56f6b3"></a><!-- doxytag: member="ArServerHandlerMap::serverGetMapName" ref="a9b981c4fe18f14d95cd4405fbc56f6b3" args="(ArServerClient *client, ArNetPacket *packet)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArServerHandlerMap.html#a9b981c4fe18f14d95cd4405fbc56f6b3">serverGetMapName</a> (<a class="el" href="classArServerClient.html">ArServerClient</a> *client, <a class="el" href="classArNetPacket.html">ArNetPacket</a> *packet)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The command that gets the map name. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aee9608dd320e325503c8daa68de76f5a"></a><!-- doxytag: member="ArServerHandlerMap::serverGetMapWithMaxCategory" ref="aee9608dd320e325503c8daa68de76f5a" args="(ArServerClient *client, ArNetPacket *packet)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArServerHandlerMap.html#aee9608dd320e325503c8daa68de76f5a">serverGetMapWithMaxCategory</a> (<a class="el" href="classArServerClient.html">ArServerClient</a> *client, <a class="el" href="classArNetPacket.html">ArNetPacket</a> *packet)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Requests that the server send the map with the specified maximum features. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aee355acd21e098b0a0c70015850b4876"></a><!-- doxytag: member="ArServerHandlerMap::setDataToSend" ref="aee355acd21e098b0a0c70015850b4876" args="(DataToSend dataToSend)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArServerHandlerMap.html#aee355acd21e098b0a0c70015850b4876">setDataToSend</a> (DataToSend dataToSend)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets which kind of data we send. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a006079b813bfca435f4ea686e915adae"></a><!-- doxytag: member="ArServerHandlerMap::useMap" ref="a006079b813bfca435f4ea686e915adae" args="(ArMapInterface *mapObj, bool takeOwnershipOfMap=false)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArServerHandlerMap.html#a006079b813bfca435f4ea686e915adae">useMap</a> (<a class="elRef" doxygen="Aria.tag:../Aria-Reference/" href="../Aria-Reference/classArMapInterface.html">ArMapInterface</a> *mapObj, bool takeOwnershipOfMap=false)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Uses a map already loaded. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab94a2b95ebaec961e5ecf979888a19fe"></a><!-- doxytag: member="ArServerHandlerMap::~ArServerHandlerMap" ref="ab94a2b95ebaec961e5ecf979888a19fe" args="()" -->
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArServerHandlerMap.html#ab94a2b95ebaec961e5ecf979888a19fe">~ArServerHandlerMap</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa9d766f19d4a868d43f2e8dbef65af07"></a><!-- doxytag: member="ArServerHandlerMap::handleCheckMap" ref="aa9d766f19d4a868d43f2e8dbef65af07" args="(ArServerClient *client, ArNetPacket *packet)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>handleCheckMap</b> (<a class="el" href="classArServerClient.html">ArServerClient</a> *client, <a class="el" href="classArNetPacket.html">ArNetPacket</a> *packet)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a100049631f49fbb153c9d725e565aaf4"></a><!-- doxytag: member="ArServerHandlerMap::mapChanged" ref="a100049631f49fbb153c9d725e565aaf4" args="(void)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>mapChanged</b> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa26fe466c63b101c0d6d8b2f3d5a317f"></a><!-- doxytag: member="ArServerHandlerMap::processFile" ref="aa26fe466c63b101c0d6d8b2f3d5a317f" args="(void)" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>processFile</b> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7e446ab28acebee48f0f8a9175479dbc"></a><!-- doxytag: member="ArServerHandlerMap::sendMapWithMaxCategory" ref="a7e446ab28acebee48f0f8a9175479dbc" args="(ArServerClient *client, const char *maxCategory)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>sendMapWithMaxCategory</b> (<a class="el" href="classArServerClient.html">ArServerClient</a> *client, const char *maxCategory)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a51726a72111dac24a9042fd5e68358d3"></a><!-- doxytag: member="ArServerHandlerMap::writeLinesToClient" ref="a51726a72111dac24a9042fd5e68358d3" args="(int lineCount, std::vector&lt; ArLineSegment &gt; *points, ArServerClient *client)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>writeLinesToClient</b> (int lineCount, std::vector&lt; <a class="elRef" doxygen="Aria.tag:../Aria-Reference/" href="../Aria-Reference/classArLineSegment.html">ArLineSegment</a> &gt; *points, <a class="el" href="classArServerClient.html">ArServerClient</a> *client)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aed91e2c9c51cc32ecce6a87513746def"></a><!-- doxytag: member="ArServerHandlerMap::writeMapToClient" ref="aed91e2c9c51cc32ecce6a87513746def" args="(const char *line, ArServerClient *client)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>writeMapToClient</b> (const char *line, <a class="el" href="classArServerClient.html">ArServerClient</a> *client)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a02e2f7be84c31530ccc5ed43ab0a61c1"></a><!-- doxytag: member="ArServerHandlerMap::writePointsToClient" ref="a02e2f7be84c31530ccc5ed43ab0a61c1" args="(int pointCount, std::vector&lt; ArPose &gt; *points, ArServerClient *client)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>writePointsToClient</b> (int pointCount, std::vector&lt; <a class="elRef" doxygen="Aria.tag:../Aria-Reference/" href="../Aria-Reference/classArPose.html">ArPose</a> &gt; *points, <a class="el" href="classArServerClient.html">ArServerClient</a> *client)</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a20ccb84d758544fcabb18ccd1e460075"></a><!-- doxytag: member="ArServerHandlerMap::myAlreadyLoaded" ref="a20ccb84d758544fcabb18ccd1e460075" args="" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>myAlreadyLoaded</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a51dc15c9b2800e3acb981f4021549bae"></a><!-- doxytag: member="ArServerHandlerMap::myCheckMapCB" ref="a51dc15c9b2800e3acb981f4021549bae" args="" -->
<a class="elRef" doxygen="Aria.tag:../Aria-Reference/" href="../Aria-Reference/classArFunctor2C.html">ArFunctor2C</a><br class="typebreak"/>
&lt; <a class="el" href="classArServerHandlerMap.html">ArServerHandlerMap</a>, <br class="typebreak"/>
<a class="el" href="classArServerClient.html">ArServerClient</a> *, <a class="el" href="classArNetPacket.html">ArNetPacket</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>myCheckMapCB</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a256567d0cd24a0f0f749b620487f9050"></a><!-- doxytag: member="ArServerHandlerMap::myDataToSend" ref="a256567d0cd24a0f0f749b620487f9050" args="" -->
DataToSend&#160;</td><td class="memItemRight" valign="bottom"><b>myDataToSend</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad201150de4326f235aeceda23fb4fa4a"></a><!-- doxytag: member="ArServerHandlerMap::myGetGoalsCB" ref="ad201150de4326f235aeceda23fb4fa4a" args="" -->
<a class="elRef" doxygen="Aria.tag:../Aria-Reference/" href="../Aria-Reference/classArFunctor2C.html">ArFunctor2C</a><br class="typebreak"/>
&lt; <a class="el" href="classArServerHandlerMap.html">ArServerHandlerMap</a>, <br class="typebreak"/>
<a class="el" href="classArServerClient.html">ArServerClient</a> *, <a class="el" href="classArNetPacket.html">ArNetPacket</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>myGetGoalsCB</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1cc3c29ac516ff3859de5ee9b4c4e050"></a><!-- doxytag: member="ArServerHandlerMap::myGetMapBinaryCB" ref="a1cc3c29ac516ff3859de5ee9b4c4e050" args="" -->
<a class="elRef" doxygen="Aria.tag:../Aria-Reference/" href="../Aria-Reference/classArFunctor2C.html">ArFunctor2C</a><br class="typebreak"/>
&lt; <a class="el" href="classArServerHandlerMap.html">ArServerHandlerMap</a>, <br class="typebreak"/>
<a class="el" href="classArServerClient.html">ArServerClient</a> *, <a class="el" href="classArNetPacket.html">ArNetPacket</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>myGetMapBinaryCB</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abe8d73c07c185a4e65cc636d922f9d65"></a><!-- doxytag: member="ArServerHandlerMap::myGetMapCB" ref="abe8d73c07c185a4e65cc636d922f9d65" args="" -->
<a class="elRef" doxygen="Aria.tag:../Aria-Reference/" href="../Aria-Reference/classArFunctor2C.html">ArFunctor2C</a><br class="typebreak"/>
&lt; <a class="el" href="classArServerHandlerMap.html">ArServerHandlerMap</a>, <br class="typebreak"/>
<a class="el" href="classArServerClient.html">ArServerClient</a> *, <a class="el" href="classArNetPacket.html">ArNetPacket</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>myGetMapCB</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a87760b92df077816fd83c3a373d97445"></a><!-- doxytag: member="ArServerHandlerMap::myGetMapIdCB" ref="a87760b92df077816fd83c3a373d97445" args="" -->
<a class="elRef" doxygen="Aria.tag:../Aria-Reference/" href="../Aria-Reference/classArFunctor2C.html">ArFunctor2C</a><br class="typebreak"/>
&lt; <a class="el" href="classArServerHandlerMap.html">ArServerHandlerMap</a>, <br class="typebreak"/>
<a class="el" href="classArServerClient.html">ArServerClient</a> *, <a class="el" href="classArNetPacket.html">ArNetPacket</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>myGetMapIdCB</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1eb074701cf8c5da2d2dca3c2ef0f3ec"></a><!-- doxytag: member="ArServerHandlerMap::myGetMapMaxCategoryCB" ref="a1eb074701cf8c5da2d2dca3c2ef0f3ec" args="" -->
<a class="elRef" doxygen="Aria.tag:../Aria-Reference/" href="../Aria-Reference/classArFunctor2C.html">ArFunctor2C</a><br class="typebreak"/>
&lt; <a class="el" href="classArServerHandlerMap.html">ArServerHandlerMap</a>, <br class="typebreak"/>
<a class="el" href="classArServerClient.html">ArServerClient</a> *, <a class="el" href="classArNetPacket.html">ArNetPacket</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>myGetMapMaxCategoryCB</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a87aa844ffd3e5bd53605cd3243b29e80"></a><!-- doxytag: member="ArServerHandlerMap::myGetMapMultiScansCB" ref="a87aa844ffd3e5bd53605cd3243b29e80" args="" -->
<a class="elRef" doxygen="Aria.tag:../Aria-Reference/" href="../Aria-Reference/classArFunctor2C.html">ArFunctor2C</a><br class="typebreak"/>
&lt; <a class="el" href="classArServerHandlerMap.html">ArServerHandlerMap</a>, <br class="typebreak"/>
<a class="el" href="classArServerClient.html">ArServerClient</a> *, <a class="el" href="classArNetPacket.html">ArNetPacket</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>myGetMapMultiScansCB</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2c72eb01bd8a15e0e65aea6d911f8905"></a><!-- doxytag: member="ArServerHandlerMap::myGetMapNameCB" ref="a2c72eb01bd8a15e0e65aea6d911f8905" args="" -->
<a class="elRef" doxygen="Aria.tag:../Aria-Reference/" href="../Aria-Reference/classArFunctor2C.html">ArFunctor2C</a><br class="typebreak"/>
&lt; <a class="el" href="classArServerHandlerMap.html">ArServerHandlerMap</a>, <br class="typebreak"/>
<a class="el" href="classArServerClient.html">ArServerClient</a> *, <a class="el" href="classArNetPacket.html">ArNetPacket</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>myGetMapNameCB</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aec83bae3de89507fb2b7e27e1e48f86a"></a><!-- doxytag: member="ArServerHandlerMap::myLastMapFile" ref="aec83bae3de89507fb2b7e27e1e48f86a" args="[1024]" -->
char&#160;</td><td class="memItemRight" valign="bottom"><b>myLastMapFile</b> [1024]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0cf89b688d34c2720bbfdeb62425d460"></a><!-- doxytag: member="ArServerHandlerMap::myLastMapFileStat" ref="a0cf89b688d34c2720bbfdeb62425d460" args="" -->
struct stat&#160;</td><td class="memItemRight" valign="bottom"><b>myLastMapFileStat</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae91b3b017a411b343a57fad04ded2c0c"></a><!-- doxytag: member="ArServerHandlerMap::myMap" ref="ae91b3b017a411b343a57fad04ded2c0c" args="" -->
<a class="elRef" doxygen="Aria.tag:../Aria-Reference/" href="../Aria-Reference/classArMapInterface.html">ArMapInterface</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>myMap</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa89b6d08bad87bdb293d87a2950421fc"></a><!-- doxytag: member="ArServerHandlerMap::myMapChangedCB" ref="aa89b6d08bad87bdb293d87a2950421fc" args="" -->
<a class="elRef" doxygen="Aria.tag:../Aria-Reference/" href="../Aria-Reference/classArFunctorC.html">ArFunctorC</a>&lt; <a class="el" href="classArServerHandlerMap.html">ArServerHandlerMap</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>myMapChangedCB</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a163b764c130e4fa01a94b74446d26705"></a><!-- doxytag: member="ArServerHandlerMap::myMapFileName" ref="a163b764c130e4fa01a94b74446d26705" args="[512]" -->
char&#160;</td><td class="memItemRight" valign="bottom"><b>myMapFileName</b> [512]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aff0755e1703c903f88fa861cb994f2f3"></a><!-- doxytag: member="ArServerHandlerMap::myMapName" ref="aff0755e1703c903f88fa861cb994f2f3" args="" -->
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>myMapName</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a19add004c4934ecf411f47bf3dc76f35"></a><!-- doxytag: member="ArServerHandlerMap::myOwnMap" ref="a19add004c4934ecf411f47bf3dc76f35" args="" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>myOwnMap</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a834c990f5858c4c2b9ca867a2adad967"></a><!-- doxytag: member="ArServerHandlerMap::myProcessFileCB" ref="a834c990f5858c4c2b9ca867a2adad967" args="" -->
<a class="elRef" doxygen="Aria.tag:../Aria-Reference/" href="../Aria-Reference/classArRetFunctorC.html">ArRetFunctorC</a>&lt; bool, <br class="typebreak"/>
<a class="el" href="classArServerHandlerMap.html">ArServerHandlerMap</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>myProcessFileCB</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0110dd669c6c3ed3ab13ebae5b3f7ebd"></a><!-- doxytag: member="ArServerHandlerMap::myServer" ref="a0110dd669c6c3ed3ab13ebae5b3f7ebd" args="" -->
<a class="el" href="classArServerBase.html">ArServerBase</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>myServer</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a25d62083e1b2ead1be08f05a3db348ac"></a><!-- doxytag: member="ArServerHandlerMap::myServerHandlerMap" ref="a25d62083e1b2ead1be08f05a3db348ac" args="" -->
<a class="el" href="classArServerHandlerMap.html">ArServerHandlerMap</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>myServerHandlerMap</b></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Service providing the contents of a map file to the client. </p>
<p>A map can be provided from an <a class="elRef" doxygen="Aria.tag:../Aria-Reference/" href="../Aria-Reference/classArMap.html">ArMap</a> object, or else the filename can be given in the global <a class="elRef" doxygen="Aria.tag:../Aria-Reference/" href="../Aria-Reference/classArConfig.html">ArConfig</a> object (see <a class="elRef" doxygen="Aria.tag:../Aria-Reference/" href="../Aria-Reference/classAria.html#aa7b554e24d02c753180556a2791e83f2">Aria::getConfig()</a>) as "Map" in the "Files" section. This handler can also be configured to only send "point" data, "line" data, or both kinds of data from the map.</p>
<p>This service accepts the following data requests: </p>
<ul>
<li>
<code>getMapId</code> </li>
<li>
<code>getMapName</code> </li>
<li>
<code>getMap</code> </li>
<li>
<code>getGoals</code> </li>
<li>
<code>getMapBinary</code> </li>
<li>
<code>getMapMultiScans</code> </li>
</ul>
<p>The following data types will also be broadcast to all clients to indicate certain events: </p>
<ul>
<li>
<code>mapUpdated</code> </li>
<li>
<code>goalsUpdated</code> </li>
</ul>
<p>The <code>getMapId</code> request replies with: a map source identifier (NULL-terminated string); a filename for the map (NULL-terminated string); a checksum value preceded by a 4-byte unsigned integer providing the length (in bytes) of that checksum value; the total data size of the map contents (4-byte unsigned integer); and a timestamp for the map file (last modified, 4-byte signed integer, UNIX time).</p>
<p>The <code>getMapName</code> request replies with a packet containing a NULL-terminated string containing the filename of the map, or an empty string ("") if there is no map.</p>
<p>The <code>getMap</code> request replies with a series of packets each containing one line from the map file (as a null-terminated string), followed by an empty packet signifying the end of the packet. (see the documentation for <a class="elRef" doxygen="Aria.tag:../Aria-Reference/" href="../Aria-Reference/classArMap.html">ArMap</a> for the map file format). This data may be written (with newlines added) to a map file, or may be parsed directly by an empty <a class="elRef" doxygen="Aria.tag:../Aria-Reference/" href="../Aria-Reference/classArMap.html">ArMap</a> object using <a class="elRef" doxygen="Aria.tag:../Aria-Reference/" href="../Aria-Reference/classArMap.html#a3055c73e7f41956c1e0369a0fc8f4660">ArMap::parseLine()</a> and <a class="elRef" doxygen="Aria.tag:../Aria-Reference/" href="../Aria-Reference/classArMap.html#a2c822440f7bc67a6dbf0d34821943640">ArMap::parsingComplete()</a>. See tests/mapClient.cpp for an example of usage.</p>
<p>The <code>getGoals</code> request replies with a packet containing a series of NULL-terminated strings containing the names of the Goal objects in the map.</p>
<p>The <code>getMapBinary</code> request replies with the map headers and objects list (see <a class="elRef" doxygen="Aria.tag:../Aria-Reference/" href="../Aria-Reference/classArMap.html">ArMap</a> for map file format) as text, but supplies point "DATA" and/or "LINES" as an undelimited sequence of 2-byte integers. (In the case of point data, each pair of integers is a point; for lines, each sequence of four integers defines a line). This binary representation of data is more compact than the ASCII text representation. This request results in a series of packets, with an empty packet signifying the end of the series.</p>
<p>The <code>getMapMultiScans</code> request is similar to getMapBinary, but it includes a list of the scan sources, along with the point and lines for each scan source in binary format.</p>
<p>The <code>mapUpdated</code> packet is sent to all connected clients whenever a new map is loaded or the map is changed. The packet contains no data; the new map can be downloaded using one of the above requests.</p>
<p>The <code>goalsUpdated</code> packet is sent to all connected clients whenever the list of Goal objects changes in the map or a new map is loaded. The packet contains no data; the new list of goals can be downloaded using <code>getGoals</code>, or by downloading the entire map. </p>
</div><hr/>The documentation for this class was generated from the following file:<ul>
<li>ArServerHandlerMap.h</li>
</ul>
</div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="classArServerHandlerMap.html">ArServerHandlerMap</a>      </li>

    <li class="footer">Generated on Mon Nov 10 2014 08:04:52 for ArNetworking by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
