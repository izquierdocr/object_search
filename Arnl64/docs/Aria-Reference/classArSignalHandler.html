<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Aria: ArSignalHandler Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Aria
   &#160;<span id="projectnumber">2.9.0(ForARNL1.9.0)</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classArSignalHandler.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">ArSignalHandler Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="ArSignalHandler" --><!-- doxytag: inherits="ArASyncTask" -->
<p>Signal handling class.  
 <a href="classArSignalHandler.html#details">More...</a></p>

<p><code>#include &lt;ArSignalHandler.h&gt;</code></p>

<p><a href="classArSignalHandler-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><b>Signal</b> { <br/>
&#160;&#160;<b>SigHUP</b> = 1, 
<b>SigINT</b>, 
<b>SigQUIT</b>, 
<b>SigILL</b>, 
<br/>
&#160;&#160;<b>SigTRAP</b>, 
<b>SigABRT</b>, 
<b>SigBUS</b>, 
<b>SigFPE</b>, 
<br/>
&#160;&#160;<b>SigKILL</b>, 
<b>SigUSR1</b>, 
<b>SigSEGV</b>, 
<b>SigUSR2</b>, 
<br/>
&#160;&#160;<b>SigPIPE</b>, 
<b>SigALRM</b>, 
<b>SigTERM</b>, 
<b>SigSTKFLT</b>, 
<br/>
&#160;&#160;<b>SigCHLD</b>, 
<b>SigCONT</b>, 
<b>SigSTOP</b>, 
<b>SigTSTP</b>, 
<br/>
&#160;&#160;<b>SigTTIN</b>, 
<b>SigTTOU</b>, 
<b>SigURG</b>, 
<b>SigXCPU</b>, 
<br/>
&#160;&#160;<b>SigXFSZ</b>, 
<b>SigVTALRM</b>, 
<b>SigPROF</b>, 
<b>SigWINCH</b>, 
<br/>
&#160;&#160;<b>SigIO</b>, 
<b>SigPWR</b>
<br/>
 }</td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac25a015f8a6a223e7e293bfd4191a79f"></a><!-- doxytag: member="ArSignalHandler::runThread" ref="ac25a015f8a6a223e7e293bfd4191a79f" args="(void *arg)" -->
virtual void *&#160;</td><td class="memItemRight" valign="bottom"><b>runThread</b> (void *arg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab75b73636ecc5e8d02e9b7a7411646f3"></a><!-- doxytag: member="ArSignalHandler::~ArSignalHandler" ref="ab75b73636ecc5e8d02e9b7a7411646f3" args="()" -->
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSignalHandler.html#ab75b73636ecc5e8d02e9b7a7411646f3">~ArSignalHandler</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a600db77b1fd540c159ee10cc92582129"></a><!-- doxytag: member="ArSignalHandler::addHandlerCB" ref="a600db77b1fd540c159ee10cc92582129" args="(ArFunctor1&lt; int &gt; *func, ArListPos::Pos position)" -->
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSignalHandler.html#a600db77b1fd540c159ee10cc92582129">addHandlerCB</a> (<a class="el" href="classArFunctor1.html">ArFunctor1</a>&lt; int &gt; *func, <a class="el" href="classArListPos.html#adb42d52c70a646c5698c5513cd25bbd0">ArListPos::Pos</a> position)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a handler callback. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac51d83bc24b017ad7310baccd367aece"></a><!-- doxytag: member="ArSignalHandler::block" ref="ac51d83bc24b017ad7310baccd367aece" args="(Signal sig)" -->
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSignalHandler.html#ac51d83bc24b017ad7310baccd367aece">block</a> (Signal sig)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Block the given signal. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3032cd6346bbdf29484d8a2a6fd33260"></a><!-- doxytag: member="ArSignalHandler::blockAllThisThread" ref="a3032cd6346bbdf29484d8a2a6fd33260" args="()" -->
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSignalHandler.html#a3032cd6346bbdf29484d8a2a6fd33260">blockAllThisThread</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Block all the signals for the calling thread only. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af406cff5d0f60ca3e12d06596c496ad6"></a><!-- doxytag: member="ArSignalHandler::blockCommon" ref="af406cff5d0f60ca3e12d06596c496ad6" args="()" -->
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSignalHandler.html#af406cff5d0f60ca3e12d06596c496ad6">blockCommon</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Block all the common signals the kill a program. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a18aa2bdbeffc4ba2afc4f6005422539f"></a><!-- doxytag: member="ArSignalHandler::blockCommonThisThread" ref="a18aa2bdbeffc4ba2afc4f6005422539f" args="()" -->
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSignalHandler.html#a18aa2bdbeffc4ba2afc4f6005422539f">blockCommonThisThread</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Block all the common signals for the calling thread only. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4b528793bac6dc672d4477c1f6449d94"></a><!-- doxytag: member="ArSignalHandler::createHandlerNonThreaded" ref="a4b528793bac6dc672d4477c1f6449d94" args="()" -->
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSignalHandler.html#a4b528793bac6dc672d4477c1f6449d94">createHandlerNonThreaded</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup the signal handling for a non-threaded program. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5bc9b463ce23688de41c2f3e82e52da2"></a><!-- doxytag: member="ArSignalHandler::createHandlerThreaded" ref="a5bc9b463ce23688de41c2f3e82e52da2" args="()" -->
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSignalHandler.html#a5bc9b463ce23688de41c2f3e82e52da2">createHandlerThreaded</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup the signal handling for a multi-threaded program. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa01e2aa648fd505522ba69e30e7bd2bc"></a><!-- doxytag: member="ArSignalHandler::delAllHandlerCBs" ref="aa01e2aa648fd505522ba69e30e7bd2bc" args="(void)" -->
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSignalHandler.html#aa01e2aa648fd505522ba69e30e7bd2bc">delAllHandlerCBs</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes all the handlers. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa232640e967afe0198d57467d87d2da3"></a><!-- doxytag: member="ArSignalHandler::delHandlerCB" ref="aa232640e967afe0198d57467d87d2da3" args="(ArFunctor1&lt; int &gt; *func)" -->
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSignalHandler.html#aa232640e967afe0198d57467d87d2da3">delHandlerCB</a> (<a class="el" href="classArFunctor1.html">ArFunctor1</a>&lt; int &gt; *func)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a handler callback. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6de9ec792202b64869414accb1edb7bd"></a><!-- doxytag: member="ArSignalHandler::getHandler" ref="a6de9ec792202b64869414accb1edb7bd" args="()" -->
static <a class="el" href="classArSignalHandler.html">ArSignalHandler</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSignalHandler.html#a6de9ec792202b64869414accb1edb7bd">getHandler</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a pointer to the single <a class="el" href="classArSignalHandler.html" title="Signal handling class.">ArSignalHandler</a> instance. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a04741aa5ad9bace2399ab98e6a4fbde4"></a><!-- doxytag: member="ArSignalHandler::handle" ref="a04741aa5ad9bace2399ab98e6a4fbde4" args="(Signal sig)" -->
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSignalHandler.html#a04741aa5ad9bace2399ab98e6a4fbde4">handle</a> (Signal sig)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle the given signal. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afafe43464f781d108bb0b987c1d03d44"></a><!-- doxytag: member="ArSignalHandler::logThread" ref="afafe43464f781d108bb0b987c1d03d44" args="(void)" -->
static void&#160;</td><td class="memItemRight" valign="bottom"><b>logThread</b> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4e708fdc377e3d6004b754bcbb69e92a"></a><!-- doxytag: member="ArSignalHandler::nameSignal" ref="a4e708fdc377e3d6004b754bcbb69e92a" args="(int sig)" -->
static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSignalHandler.html#a4e708fdc377e3d6004b754bcbb69e92a">nameSignal</a> (int sig)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the name of the given signal. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4972f2f202024574b9d9d6beb5b080fb"></a><!-- doxytag: member="ArSignalHandler::signalCB" ref="a4972f2f202024574b9d9d6beb5b080fb" args="(int sig)" -->
static void&#160;</td><td class="memItemRight" valign="bottom"><b>signalCB</b> (int sig)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aac2b5ef55fd9569a5e3308de6099604d"></a><!-- doxytag: member="ArSignalHandler::unblock" ref="aac2b5ef55fd9569a5e3308de6099604d" args="(Signal sig)" -->
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSignalHandler.html#aac2b5ef55fd9569a5e3308de6099604d">unblock</a> (Signal sig)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Unblock the given signal. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6a1cf54f05b6df881a7c6f4a3a1fa949"></a><!-- doxytag: member="ArSignalHandler::unblockAll" ref="a6a1cf54f05b6df881a7c6f4a3a1fa949" args="()" -->
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSignalHandler.html#a6a1cf54f05b6df881a7c6f4a3a1fa949">unblockAll</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Unblock all the signals. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a88d993ae078fa06fdab06b0bd671f153"></a><!-- doxytag: member="ArSignalHandler::unhandle" ref="a88d993ae078fa06fdab06b0bd671f153" args="(Signal sig)" -->
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSignalHandler.html#a88d993ae078fa06fdab06b0bd671f153">unhandle</a> (Signal sig)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Dont handle the given signal. <br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a69193646f19b7d3b36e7f7ece6a251e7"></a><!-- doxytag: member="ArSignalHandler::initSigMap" ref="a69193646f19b7d3b36e7f7ece6a251e7" args="()" -->
static void&#160;</td><td class="memItemRight" valign="bottom"><b>initSigMap</b> ()</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7824916846be32ead951de403ac9d740"></a><!-- doxytag: member="ArSignalHandler::ourIgnoreQUIT" ref="a7824916846be32ead951de403ac9d740" args="" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>ourIgnoreQUIT</b></td></tr>
<tr><td colspan="2"><h2><a name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afc9c752f74b7273b24036042b6df0cc8"></a><!-- doxytag: member="ArSignalHandler::ourBlockSigSet" ref="afc9c752f74b7273b24036042b6df0cc8" args="" -->
static sigset_t&#160;</td><td class="memItemRight" valign="bottom"><b>ourBlockSigSet</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab69f2de74f3887fbb7daf3f5d6ff1b92"></a><!-- doxytag: member="ArSignalHandler::ourHandlerList" ref="ab69f2de74f3887fbb7daf3f5d6ff1b92" args="" -->
static std::list&lt; <a class="el" href="classArFunctor1.html">ArFunctor1</a><br class="typebreak"/>
&lt; int &gt; * &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>ourHandlerList</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3d63a9af96e5f26b0a92af8a724985e1"></a><!-- doxytag: member="ArSignalHandler::ourHandleSigSet" ref="a3d63a9af96e5f26b0a92af8a724985e1" args="" -->
static sigset_t&#160;</td><td class="memItemRight" valign="bottom"><b>ourHandleSigSet</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a80ce9dae77f52333e4bb579820b6e8bf"></a><!-- doxytag: member="ArSignalHandler::ourSigMap" ref="a80ce9dae77f52333e4bb579820b6e8bf" args="" -->
static ArStrMap&#160;</td><td class="memItemRight" valign="bottom"><b>ourSigMap</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aea727d38c03ea9b41212a95a4ecb51c0"></a><!-- doxytag: member="ArSignalHandler::ourSignalHandler" ref="aea727d38c03ea9b41212a95a4ecb51c0" args="" -->
static <a class="el" href="classArSignalHandler.html">ArSignalHandler</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>ourSignalHandler</b></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Signal handling class. </p>
<p>This is a signal handling class. It has both a threaded and non-threaded mode of operation. The non-threaded mode will work in a threaded application but it is best to use the threaded mode. The benefit of the threaded mode is that if the signal incures some processing, but does not shutdown the program (ie. SIGUSR1 or SIGUSR2), the threaded mode will handle the signal in its own thread and hopefully that will not hurt the performance of the tight loop robot control. Exaclty how much performance you get out of this depends on your machines physical hardware and exactly what the processing the signal handler does. For instance, a multi-processor machine has a much greater chance of the signal handler not interfering with the robot control loop.</p>
<p>See the <a class="el" href="classAria.html">Aria</a> main class for how to initialize a default setup of the signal handling.</p>
<p>There are functions to block, unblock, handle and unhandle signals. These functions all must be called before creating the signalhandler. In either single or multi-threaded mode. The functions to block and handle signals creates a set of blocking and handling which is then used by the create functions to tell the Linux kernel what to do.</p>
<p>In the threaded mode, there is a signal handler thread that is created. That thread is created in a detached state, which means it can not be joined on. When the program exits, the signal handler thread will be ignored and that thread will never exit its run loop. This is perfectly fine behavior. There is no state that can be messed up in this fashion. It is just easier to exit the program than to try to wake up that thread and get it to exit itself.</p>
<p>This class is for Linux only. Windows has virtualy no support for signals and the little support that it does have is not realy usefull. There is an empty implementation of this class for Windows so that code can compile in both Linux and Windows. Just do not expect the code that uses this signal handling to do anything in Windows. This should not be a problem since signals are not used in Windows. </p>
</div><hr/>The documentation for this class was generated from the following file:<ul>
<li>ArSignalHandler.h</li>
</ul>
</div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="classArSignalHandler.html">ArSignalHandler</a>      </li>

    <li class="footer">Generated on Mon Nov 10 2014 08:04:49 for Aria by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
